/*!
 * VERSION: beta 0.2.0
 * DATE: 2013-02-27
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var t=/[^\d\-\.]/g,e=Math.PI/180,r=/(\d|\.)+/g,s={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},a=function(t){return"number"==typeof t?[t>>16,255&t>>8,255&t]:""===t||null==t||"none"===t||"string"!=typeof t?s.transparent:s[t]?s[t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):t.match(r)||s.transparent},o={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},n=function(t,e){var r=t.matrix,s=1e-6,a=r.a,o=r.b,n=r.c,i=r.d,h=e?t._gsTransform||{skewY:0}:{skewY:0},p=h.scaleX<0;return h.tx=r.e-(h.ox||0),h.ty=r.f-(h.oy||0),h.scaleX=Math.sqrt(a*a+o*o),h.scaleY=Math.sqrt(i*i+n*n),h.rotation=a||o?Math.atan2(o,a):h.rotation||0,h.skewX=n||i?Math.atan2(n,i)+h.rotation:h.skewX||0,Math.abs(h.skewX)>Math.PI/2&&(p?(h.scaleX*=-1,h.skewX+=h.rotation<=0?Math.PI:-Math.PI,h.rotation+=h.rotation<=0?Math.PI:-Math.PI):(h.scaleY*=-1,h.skewX+=h.skewX<=0?Math.PI:-Math.PI)),h.rotation<s&&h.rotation>-s&&(a||o)&&(h.rotation=0),h.skewX<s&&h.skewX>-s&&(o||n)&&(h.skewX=0),e&&(t._gsTransform=h),h},i=function(t,e){return null==t?e:"string"==typeof t&&1===t.indexOf("=")?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:Number(t)},h=function(r,s){var a=-1===r.indexOf("rad")?e:1,o=1===r.indexOf("=");return r=Number(r.replace(t,""))*a,o?r+s:r},p=window._gsDefine.plugin({propName:"raphael",API:2,init:function(e,r,s){if(!e.attr)return!1;this._target=e,this._tween=s,this._props=e._gsProps=e._gsProps||{};var n,i,h,p,l,c,f;for(n in r)h=r[n],"transform"!==n?o[n]||"pivot"===n?this._parseTransform(e,r):(i=e.attr(n),this._firstPT=p={_next:this._firstPT,t:this._props,p:n,b:i,f:!1,n:"raphael_"+n,r:!1,type:0},"fill"===n||"stroke"===n?(l=a(i),c=a(h),p.e=h,p.s=Number(l[0]),p.c=Number(c[0])-p.s,p.gs=Number(l[1]),p.gc=Number(c[1])-p.gs,p.bs=Number(l[2]),p.bc=Number(c[2])-p.bs,l.length>3||c.length>3?(p.as=l.length<4?1:Number(l[3]),p.ac=(c.length<4?1:Number(c[3]))-p.as,p.type=2):p.type=1):(i="string"==typeof i?parseFloat(i.replace(t,"")):Number(i),"string"==typeof h?(f="="===h.charAt(1),h=parseFloat(h.replace(t,""))):f=!1,p.e=h||0===h?f?h+i:h:r[n],!i&&0!==i||!h&&0!==h||!(p.c=f?h:h-i)?(p.type=-1,p.i=r[n],p.s=p.c=0):p.s=i),this._overwriteProps.push("raphael_"+n),p._next&&(p._next._prev=p)):this._parseTransform(e,h);return!0},set:function(t){for(var e,r=this._firstPT;r;)e=r.c*t+r.s,r.r&&(e=e>0?e+.5>>0:e-.5>>0),r.type?1===r.type?r.t[r.p]="rgb("+(e>>0)+", "+(r.gs+t*r.gc>>0)+", "+(r.bs+t*r.bc>>0)+")":2===r.type?r.t[r.p]="rgba("+(e>>0)+", "+(r.gs+t*r.gc>>0)+", "+(r.bs+t*r.bc>>0)+", "+(r.as+t*r.ac)+")":-1===r.type&&(r.t[r.p]=r.i):r.t[r.p]=e,r=r._next;if(this._target.attr(this._props),this._transform){r=this._transform;var s=r.rotation,a=s-r.skewX,o=Math.cos(s)*r.scaleX,n=Math.sin(s)*r.scaleX,i=Math.sin(a)*-r.scaleY,h=Math.cos(a)*r.scaleY,p=1e-6,l=this._pxl,c=this._pyl;p>n&&n>-p&&(n=0),p>i&&i>-p&&(i=0),r.ox=this._pxg-(l*o+c*i),r.oy=this._pyg-(l*n+c*h),this._target.transform("m"+o+","+n+","+i+","+h+","+(r.tx+r.ox)+","+(r.ty+r.oy))}}}),l=p.prototype;l._parseTransform=function(t,r){if(!this._transform){var s,a,p,l,c,f,u,_,w,g=this._transform=n(t,!0),y=1e-6;if("object"==typeof r){if(s={scaleX:i(null!=r.scaleX?r.scaleX:r.scale,g.scaleX),scaleY:i(null!=r.scaleY?r.scaleY:r.scale,g.scaleY),tx:i(r.tx,g.tx),ty:i(r.ty,g.ty)},null!=r.shortRotation){s.rotation="number"==typeof r.shortRotation?r.shortRotation*e:h(r.shortRotation,g.rotation);var b=(s.rotation-g.rotation)%(2*Math.PI);b!==b%Math.PI&&(b+=Math.PI*(0>b?2:-2)),s.rotation=g.rotation+b}else s.rotation=null==r.rotation?g.rotation:"number"==typeof r.rotation?r.rotation*e:h(r.rotation,g.rotation);s.skewX=null==r.skewX?g.skewX:"number"==typeof r.skewX?r.skewX*e:h(r.skewX,g.skewX),s.skewY=null==r.skewY?g.skewY:"number"==typeof r.skewY?r.skewY*e:h(r.skewY,g.skewY),(a=s.skewY-g.skewY)&&(s.skewX+=a,s.rotation+=a),s.skewY<y&&s.skewY>-y&&(s.skewY=0),s.skewX<y&&s.skewX>-y&&(s.skewX=0),s.rotation<y&&s.rotation>-y&&(s.rotation=0),w=r.localPivot||r.globalPivot,"string"==typeof w?(c=w.split(","),f=Number(c[0]),u=Number(c[1])):"object"==typeof w?(f=Number(w.x),u=Number(w.y)):r.localPivot?(c=t.getBBox(!0),f=c.width/2,u=c.height/2):(c=t.getBBox(),f=c.x+c.width/2,u=c.y+c.height/2),r.localPivot?(_=t.matrix,f+=t.attr("x"),u+=t.attr("y"),this._pxl=f,this._pyl=u,this._pxg=f*_.a+u*_.c+_.e-g.tx,this._pyg=f*_.b+u*_.d+_.f-g.ty):(_=t.matrix.invert(),this._pxl=f*_.a+u*_.c+_.e,this._pyl=f*_.b+u*_.d+_.f,this._pxg=f-g.tx,this._pyg=u-g.ty)}else{if("string"!=typeof r)return;c=this._target.transform(),t.transform(r),s=n(t,!1),t.transform(c)}for(p in o)g[p]!==s[p]&&"shortRotation"!==p&&"scale"!==p&&(this._firstPT=l={_next:this._firstPT,t:g,p:p,s:g[p],c:s[p]-g[p],n:p,f:!1,r:!1,b:g[p],e:s[p],type:0},l._next&&(l._next._prev=l),this._overwriteProps.push("raphael_"+p))}}}),window._gsDefine&&window._gsQueue.pop()();